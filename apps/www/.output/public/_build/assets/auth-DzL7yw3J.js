import{r as be}from"./client-DJZyYeHn.js";function qe(e){var t,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=qe(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function at(){for(var e,t,r=0,o="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=qe(e))&&(o&&(o+=" "),o+=t);return o}const _e="-",it=e=>{const t=ct(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:s=>{const c=s.split(_e);return c[0]===""&&c.length!==1&&c.shift(),Be(c,t)||lt(s)},getConflictingClassGroupIds:(s,c)=>{const i=r[s]||[];return c&&o[s]?[...i,...o[s]]:i}}},Be=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],o=t.nextPart.get(r),n=o?Be(e.slice(1),o):void 0;if(n)return n;if(t.validators.length===0)return;const a=e.join(_e);return t.validators.find(({validator:s})=>s(a))?.classGroupId},Ie=/^\[(.+)\]$/,lt=e=>{if(Ie.test(e)){const t=Ie.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ct=e=>{const{theme:t,classGroups:r}=e,o={nextPart:new Map,validators:[]};for(const n in r)xe(r[n],o,n,t);return o},xe=(e,t,r,o)=>{e.forEach(n=>{if(typeof n=="string"){const a=n===""?t:Ce(t,n);a.classGroupId=r;return}if(typeof n=="function"){if(ut(n)){xe(n(o),t,r,o);return}t.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([a,s])=>{xe(s,Ce(t,a),r,o)})})},Ce=(e,t)=>{let r=e;return t.split(_e).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},ut=e=>e.isThemeGetter,dt=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,o=new Map;const n=(a,s)=>{r.set(a,s),t++,t>e&&(t=0,o=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=o.get(a))!==void 0)return n(a,s),s},set(a,s){r.has(a)?r.set(a,s):n(a,s)}}},ke="!",Se=":",ft=Se.length,mt=e=>{const{prefix:t,experimentalParseClassName:r}=e;let o=n=>{const a=[];let s=0,c=0,i=0,l;for(let x=0;x<n.length;x++){let P=n[x];if(s===0&&c===0){if(P===Se){a.push(n.slice(i,x)),i=x+ft;continue}if(P==="/"){l=x;continue}}P==="["?s++:P==="]"?s--:P==="("?c++:P===")"&&c--}const u=a.length===0?n:n.substring(i),m=pt(u),y=m!==u,g=l&&l>i?l-i:void 0;return{modifiers:a,hasImportantModifier:y,baseClassName:m,maybePostfixModifierPosition:g}};if(t){const n=t+Se,a=o;o=s=>s.startsWith(n)?a(s.substring(n.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const n=o;o=a=>r({className:a,parseClassName:n})}return o},pt=e=>e.endsWith(ke)?e.substring(0,e.length-1):e.startsWith(ke)?e.substring(1):e,gt=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const n=[];let a=[];return o.forEach(s=>{s[0]==="["||t[s]?(n.push(...a.sort(),s),a=[]):a.push(s)}),n.push(...a.sort()),n}},ht=e=>({cache:dt(e.cacheSize),parseClassName:mt(e),sortModifiers:gt(e),...it(e)}),bt=/\s+/,yt=(e,t)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:n,sortModifiers:a}=t,s=[],c=e.trim().split(bt);let i="";for(let l=c.length-1;l>=0;l-=1){const u=c[l],{isExternal:m,modifiers:y,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:P}=r(u);if(m){i=u+(i.length>0?" "+i:i);continue}let z=!!P,C=o(z?x.substring(0,P):x);if(!C){if(!z){i=u+(i.length>0?" "+i:i);continue}if(C=o(x),!C){i=u+(i.length>0?" "+i:i);continue}z=!1}const U=a(y).join(":"),M=g?U+ke:U,v=M+C;if(s.includes(v))continue;s.push(v);const j=n(C,z);for(let w=0;w<j.length;++w){const F=j[w];s.push(M+F)}i=u+(i.length>0?" "+i:i)}return i};function wt(){let e=0,t,r,o="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Ve(t))&&(o&&(o+=" "),o+=r);return o}const Ve=e=>{if(typeof e=="string")return e;let t,r="";for(let o=0;o<e.length;o++)e[o]&&(t=Ve(e[o]))&&(r&&(r+=" "),r+=t);return r};function vt(e,...t){let r,o,n,a=s;function s(i){const l=t.reduce((u,m)=>m(u),e());return r=ht(l),o=r.cache.get,n=r.cache.set,a=c,c(i)}function c(i){const l=o(i);if(l)return l;const u=yt(i,r);return n(i,u),u}return function(){return a(wt.apply(null,arguments))}}const R=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},We=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,De=/^\((?:(\w[\w-]*):)?(.+)\)$/i,xt=/^\d+\/\d+$/,kt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,St=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Rt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_t=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Pt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Q=e=>xt.test(e),b=e=>!!e&&!Number.isNaN(Number(e)),B=e=>!!e&&Number.isInteger(Number(e)),ye=e=>e.endsWith("%")&&b(e.slice(0,-1)),$=e=>kt.test(e),Tt=()=>!0,At=e=>St.test(e)&&!Rt.test(e),He=()=>!1,Ot=e=>_t.test(e),Et=e=>Pt.test(e),zt=e=>!d(e)&&!f(e),It=e=>X(e,Xe,He),d=e=>We.test(e),D=e=>X(e,Ye,At),we=e=>X(e,Ut,b),Me=e=>X(e,Je,He),Ct=e=>X(e,Qe,Et),ae=e=>X(e,Ze,Ot),f=e=>De.test(e),K=e=>Y(e,Ye),Mt=e=>Y(e,jt),Le=e=>Y(e,Je),Lt=e=>Y(e,Xe),Nt=e=>Y(e,Qe),ie=e=>Y(e,Ze,!0),X=(e,t,r)=>{const o=We.exec(e);return o?o[1]?t(o[1]):r(o[2]):!1},Y=(e,t,r=!1)=>{const o=De.exec(e);return o?o[1]?t(o[1]):r:!1},Je=e=>e==="position"||e==="percentage",Qe=e=>e==="image"||e==="url",Xe=e=>e==="length"||e==="size"||e==="bg-size",Ye=e=>e==="length",Ut=e=>e==="number",jt=e=>e==="family-name",Ze=e=>e==="shadow",Gt=()=>{const e=R("color"),t=R("font"),r=R("text"),o=R("font-weight"),n=R("tracking"),a=R("leading"),s=R("breakpoint"),c=R("container"),i=R("spacing"),l=R("radius"),u=R("shadow"),m=R("inset-shadow"),y=R("text-shadow"),g=R("drop-shadow"),x=R("blur"),P=R("perspective"),z=R("aspect"),C=R("ease"),U=R("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...v(),f,d],w=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],h=()=>[f,d,i],E=()=>[Q,"full","auto",...h()],Z=()=>[B,"none","subgrid",f,d],H=()=>["auto",{span:["full",B,f,d]},B,f,d],J=()=>[B,"auto",f,d],A=()=>["auto","min","max","fr",f,d],k=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],T=()=>["start","end","center","stretch","center-safe","end-safe"],S=()=>["auto",...h()],q=()=>[Q,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...h()],p=()=>[e,f,d],Te=()=>[...v(),Le,Me,{position:[f,d]}],Ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Oe=()=>["auto","cover","contain",Lt,It,{size:[f,d]}],ge=()=>[ye,K,D],O=()=>["","none","full",l,f,d],I=()=>["",b,K,D],re=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>[b,ye,Le,Me],ze=()=>["","none",x,f,d],oe=()=>["none",b,f,d],ne=()=>["none",b,f,d],he=()=>[b,f,d],se=()=>[Q,"full",...h()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$],breakpoint:[$],color:[Tt],container:[$],"drop-shadow":[$],ease:["in","out","in-out"],font:[zt],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$],shadow:[$],spacing:["px",b],text:[$],"text-shadow":[$],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Q,d,f,z]}],container:["container"],columns:[{columns:[b,d,f,c]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[B,"auto",f,d]}],basis:[{basis:[Q,"full","auto",c,...h()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[b,Q,"auto","initial","none",d]}],grow:[{grow:["",b,f,d]}],shrink:[{shrink:["",b,f,d]}],order:[{order:[B,"first","last","none",f,d]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:h()}],"gap-x":[{"gap-x":h()}],"gap-y":[{"gap-y":h()}],"justify-content":[{justify:[...k(),"normal"]}],"justify-items":[{"justify-items":[...T(),"normal"]}],"justify-self":[{"justify-self":["auto",...T()]}],"align-content":[{content:["normal",...k()]}],"align-items":[{items:[...T(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...T(),{baseline:["","last"]}]}],"place-content":[{"place-content":k()}],"place-items":[{"place-items":[...T(),"baseline"]}],"place-self":[{"place-self":["auto",...T()]}],p:[{p:h()}],px:[{px:h()}],py:[{py:h()}],ps:[{ps:h()}],pe:[{pe:h()}],pt:[{pt:h()}],pr:[{pr:h()}],pb:[{pb:h()}],pl:[{pl:h()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":h()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":h()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[c,"screen",...q()]}],"min-w":[{"min-w":[c,"screen","none",...q()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[s]},...q()]}],h:[{h:["screen",...q()]}],"min-h":[{"min-h":["screen","none",...q()]}],"max-h":[{"max-h":["screen",...q()]}],"font-size":[{text:["base",r,K,D]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,f,we]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ye,d]}],"font-family":[{font:[Mt,d,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,f,d]}],"line-clamp":[{"line-clamp":[b,"none",f,we]}],leading:[{leading:[a,...h()]}],"list-image":[{"list-image":["none",f,d]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",f,d]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:p()}],"text-color":[{text:p()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:[b,"from-font","auto",f,D]}],"text-decoration-color":[{decoration:p()}],"underline-offset":[{"underline-offset":[b,"auto",f,d]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:h()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",f,d]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",f,d]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Te()}],"bg-repeat":[{bg:Ae()}],"bg-size":[{bg:Oe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},B,f,d],radial:["",f,d],conic:[B,f,d]},Nt,Ct]}],"bg-color":[{bg:p()}],"gradient-from-pos":[{from:ge()}],"gradient-via-pos":[{via:ge()}],"gradient-to-pos":[{to:ge()}],"gradient-from":[{from:p()}],"gradient-via":[{via:p()}],"gradient-to":[{to:p()}],rounded:[{rounded:O()}],"rounded-s":[{"rounded-s":O()}],"rounded-e":[{"rounded-e":O()}],"rounded-t":[{"rounded-t":O()}],"rounded-r":[{"rounded-r":O()}],"rounded-b":[{"rounded-b":O()}],"rounded-l":[{"rounded-l":O()}],"rounded-ss":[{"rounded-ss":O()}],"rounded-se":[{"rounded-se":O()}],"rounded-ee":[{"rounded-ee":O()}],"rounded-es":[{"rounded-es":O()}],"rounded-tl":[{"rounded-tl":O()}],"rounded-tr":[{"rounded-tr":O()}],"rounded-br":[{"rounded-br":O()}],"rounded-bl":[{"rounded-bl":O()}],"border-w":[{border:I()}],"border-w-x":[{"border-x":I()}],"border-w-y":[{"border-y":I()}],"border-w-s":[{"border-s":I()}],"border-w-e":[{"border-e":I()}],"border-w-t":[{"border-t":I()}],"border-w-r":[{"border-r":I()}],"border-w-b":[{"border-b":I()}],"border-w-l":[{"border-l":I()}],"divide-x":[{"divide-x":I()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":I()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...re(),"hidden","none"]}],"divide-style":[{divide:[...re(),"hidden","none"]}],"border-color":[{border:p()}],"border-color-x":[{"border-x":p()}],"border-color-y":[{"border-y":p()}],"border-color-s":[{"border-s":p()}],"border-color-e":[{"border-e":p()}],"border-color-t":[{"border-t":p()}],"border-color-r":[{"border-r":p()}],"border-color-b":[{"border-b":p()}],"border-color-l":[{"border-l":p()}],"divide-color":[{divide:p()}],"outline-style":[{outline:[...re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[b,f,d]}],"outline-w":[{outline:["",b,K,D]}],"outline-color":[{outline:p()}],shadow:[{shadow:["","none",u,ie,ae]}],"shadow-color":[{shadow:p()}],"inset-shadow":[{"inset-shadow":["none",m,ie,ae]}],"inset-shadow-color":[{"inset-shadow":p()}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:p()}],"ring-offset-w":[{"ring-offset":[b,D]}],"ring-offset-color":[{"ring-offset":p()}],"inset-ring-w":[{"inset-ring":I()}],"inset-ring-color":[{"inset-ring":p()}],"text-shadow":[{"text-shadow":["none",y,ie,ae]}],"text-shadow-color":[{"text-shadow":p()}],opacity:[{opacity:[b,f,d]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[b]}],"mask-image-linear-from-pos":[{"mask-linear-from":_()}],"mask-image-linear-to-pos":[{"mask-linear-to":_()}],"mask-image-linear-from-color":[{"mask-linear-from":p()}],"mask-image-linear-to-color":[{"mask-linear-to":p()}],"mask-image-t-from-pos":[{"mask-t-from":_()}],"mask-image-t-to-pos":[{"mask-t-to":_()}],"mask-image-t-from-color":[{"mask-t-from":p()}],"mask-image-t-to-color":[{"mask-t-to":p()}],"mask-image-r-from-pos":[{"mask-r-from":_()}],"mask-image-r-to-pos":[{"mask-r-to":_()}],"mask-image-r-from-color":[{"mask-r-from":p()}],"mask-image-r-to-color":[{"mask-r-to":p()}],"mask-image-b-from-pos":[{"mask-b-from":_()}],"mask-image-b-to-pos":[{"mask-b-to":_()}],"mask-image-b-from-color":[{"mask-b-from":p()}],"mask-image-b-to-color":[{"mask-b-to":p()}],"mask-image-l-from-pos":[{"mask-l-from":_()}],"mask-image-l-to-pos":[{"mask-l-to":_()}],"mask-image-l-from-color":[{"mask-l-from":p()}],"mask-image-l-to-color":[{"mask-l-to":p()}],"mask-image-x-from-pos":[{"mask-x-from":_()}],"mask-image-x-to-pos":[{"mask-x-to":_()}],"mask-image-x-from-color":[{"mask-x-from":p()}],"mask-image-x-to-color":[{"mask-x-to":p()}],"mask-image-y-from-pos":[{"mask-y-from":_()}],"mask-image-y-to-pos":[{"mask-y-to":_()}],"mask-image-y-from-color":[{"mask-y-from":p()}],"mask-image-y-to-color":[{"mask-y-to":p()}],"mask-image-radial":[{"mask-radial":[f,d]}],"mask-image-radial-from-pos":[{"mask-radial-from":_()}],"mask-image-radial-to-pos":[{"mask-radial-to":_()}],"mask-image-radial-from-color":[{"mask-radial-from":p()}],"mask-image-radial-to-color":[{"mask-radial-to":p()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":v()}],"mask-image-conic-pos":[{"mask-conic":[b]}],"mask-image-conic-from-pos":[{"mask-conic-from":_()}],"mask-image-conic-to-pos":[{"mask-conic-to":_()}],"mask-image-conic-from-color":[{"mask-conic-from":p()}],"mask-image-conic-to-color":[{"mask-conic-to":p()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Te()}],"mask-repeat":[{mask:Ae()}],"mask-size":[{mask:Oe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",f,d]}],filter:[{filter:["","none",f,d]}],blur:[{blur:ze()}],brightness:[{brightness:[b,f,d]}],contrast:[{contrast:[b,f,d]}],"drop-shadow":[{"drop-shadow":["","none",g,ie,ae]}],"drop-shadow-color":[{"drop-shadow":p()}],grayscale:[{grayscale:["",b,f,d]}],"hue-rotate":[{"hue-rotate":[b,f,d]}],invert:[{invert:["",b,f,d]}],saturate:[{saturate:[b,f,d]}],sepia:[{sepia:["",b,f,d]}],"backdrop-filter":[{"backdrop-filter":["","none",f,d]}],"backdrop-blur":[{"backdrop-blur":ze()}],"backdrop-brightness":[{"backdrop-brightness":[b,f,d]}],"backdrop-contrast":[{"backdrop-contrast":[b,f,d]}],"backdrop-grayscale":[{"backdrop-grayscale":["",b,f,d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[b,f,d]}],"backdrop-invert":[{"backdrop-invert":["",b,f,d]}],"backdrop-opacity":[{"backdrop-opacity":[b,f,d]}],"backdrop-saturate":[{"backdrop-saturate":[b,f,d]}],"backdrop-sepia":[{"backdrop-sepia":["",b,f,d]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":h()}],"border-spacing-x":[{"border-spacing-x":h()}],"border-spacing-y":[{"border-spacing-y":h()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",f,d]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[b,"initial",f,d]}],ease:[{ease:["linear","initial",C,f,d]}],delay:[{delay:[b,f,d]}],animate:[{animate:["none",U,f,d]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,f,d]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:ne()}],"scale-x":[{"scale-x":ne()}],"scale-y":[{"scale-y":ne()}],"scale-z":[{"scale-z":ne()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[f,d,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:p()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:p()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",f,d]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":h()}],"scroll-mx":[{"scroll-mx":h()}],"scroll-my":[{"scroll-my":h()}],"scroll-ms":[{"scroll-ms":h()}],"scroll-me":[{"scroll-me":h()}],"scroll-mt":[{"scroll-mt":h()}],"scroll-mr":[{"scroll-mr":h()}],"scroll-mb":[{"scroll-mb":h()}],"scroll-ml":[{"scroll-ml":h()}],"scroll-p":[{"scroll-p":h()}],"scroll-px":[{"scroll-px":h()}],"scroll-py":[{"scroll-py":h()}],"scroll-ps":[{"scroll-ps":h()}],"scroll-pe":[{"scroll-pe":h()}],"scroll-pt":[{"scroll-pt":h()}],"scroll-pr":[{"scroll-pr":h()}],"scroll-pb":[{"scroll-pb":h()}],"scroll-pl":[{"scroll-pl":h()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",f,d]}],fill:[{fill:["none",...p()]}],"stroke-w":[{stroke:[b,K,D,we]}],stroke:[{stroke:["none",...p()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$t=vt(Gt);function Dr(...e){return $t(at(e))}let L=[],V=0;const le=4;let te=e=>{let t=[],r={get(){return r.lc||r.listen(()=>{})(),r.value},lc:0,listen(o){return r.lc=t.push(o),()=>{for(let a=V+le;a<L.length;)L[a]===o?L.splice(a,le):a+=le;let n=t.indexOf(o);~n&&(t.splice(n,1),--r.lc||r.off())}},notify(o,n){let a=!L.length;for(let s of t)L.push(s,r.value,o,n);if(a){for(V=0;V<L.length;V+=le)L[V](L[V+1],L[V+2],L[V+3]);L.length=0}},off(){},set(o){let n=r.value;n!==o&&(r.value=o,r.notify(n))},subscribe(o){let n=r.listen(o);return o(r.value),n},value:e};return r};const Ft=5,ce=6,ue=10;let qt=(e,t,r,o)=>(e.events=e.events||{},e.events[r+ue]||(e.events[r+ue]=o(n=>{e.events[r].reduceRight((a,s)=>(s(a),a),{shared:{},...n})})),e.events[r]=e.events[r]||[],e.events[r].push(t),()=>{let n=e.events[r],a=n.indexOf(t);n.splice(a,1),n.length||(delete e.events[r],e.events[r+ue](),delete e.events[r+ue])}),Bt=1e3,Vt=(e,t)=>qt(e,o=>{let n=t(o);n&&e.events[ce].push(n)},Ft,o=>{let n=e.listen;e.listen=(...s)=>(!e.lc&&!e.active&&(e.active=!0,o()),n(...s));let a=e.off;return e.events[ce]=[],e.off=()=>{a(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let s of e.events[ce])s();e.events[ce]=[]}},Bt)},()=>{e.listen=n,e.off=a}});function Wt(e,t,r){let o=new Set(t).add(void 0);return e.listen((n,a,s)=>{o.has(s)&&r(n,a,s)})}var Dt=Object.defineProperty,Ht=Object.defineProperties,Jt=Object.getOwnPropertyDescriptors,Ne=Object.getOwnPropertySymbols,Qt=Object.prototype.hasOwnProperty,Xt=Object.prototype.propertyIsEnumerable,Ue=(e,t,r)=>t in e?Dt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,N=(e,t)=>{for(var r in t||(t={}))Qt.call(t,r)&&Ue(e,r,t[r]);if(Ne)for(var r of Ne(t))Xt.call(t,r)&&Ue(e,r,t[r]);return e},G=(e,t)=>Ht(e,Jt(t)),Yt=class extends Error{constructor(e,t,r){super(t||e.toString(),{cause:r}),this.status=e,this.statusText=t,this.error=r}},Zt=async(e,t)=>{var r,o,n,a,s,c;let i=t||{};const l={onRequest:[t?.onRequest],onResponse:[t?.onResponse],onSuccess:[t?.onSuccess],onError:[t?.onError],onRetry:[t?.onRetry]};if(!t||!t?.plugins)return{url:e,options:i,hooks:l};for(const u of t?.plugins||[]){if(u.init){const m=await((r=u.init)==null?void 0:r.call(u,e.toString(),t));i=m.options||i,e=m.url}l.onRequest.push((o=u.hooks)==null?void 0:o.onRequest),l.onResponse.push((n=u.hooks)==null?void 0:n.onResponse),l.onSuccess.push((a=u.hooks)==null?void 0:a.onSuccess),l.onError.push((s=u.hooks)==null?void 0:s.onError),l.onRetry.push((c=u.hooks)==null?void 0:c.onRetry)}return{url:e,options:i,hooks:l}},je=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(){return this.options.delay}},Kt=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(e){return Math.min(this.options.maxDelay,this.options.baseDelay*2**e)}};function er(e){if(typeof e=="number")return new je({type:"linear",attempts:e,delay:1e3});switch(e.type){case"linear":return new je(e);case"exponential":return new Kt(e);default:throw new Error("Invalid retry strategy")}}var tr=async e=>{const t={},r=async o=>typeof o=="function"?await o():o;if(e?.auth){if(e.auth.type==="Bearer"){const o=await r(e.auth.token);if(!o)return t;t.authorization=`Bearer ${o}`}else if(e.auth.type==="Basic"){const o=r(e.auth.username),n=r(e.auth.password);if(!o||!n)return t;t.authorization=`Basic ${btoa(`${o}:${n}`)}`}else if(e.auth.type==="Custom"){const o=r(e.auth.value);if(!o)return t;t.authorization=`${r(e.auth.prefix)} ${o}`}}return t},rr=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function or(e){const t=e.headers.get("content-type"),r=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!t)return"json";const o=t.split(";").shift()||"";return rr.test(o)?"json":r.has(o)||o.startsWith("text/")?"text":"blob"}function nr(e){try{return JSON.parse(e),!0}catch{return!1}}function Ke(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}function Ge(e){try{return JSON.parse(e)}catch{return e}}function $e(e){return typeof e=="function"}function sr(e){if(e?.customFetchImpl)return e.customFetchImpl;if(typeof globalThis<"u"&&$e(globalThis.fetch))return globalThis.fetch;if(typeof window<"u"&&$e(window.fetch))return window.fetch;throw new Error("No fetch implementation found")}async function ar(e){const t=new Headers(e?.headers),r=await tr(e);for(const[o,n]of Object.entries(r||{}))t.set(o,n);if(!t.has("content-type")){const o=ir(e?.body);o&&t.set("content-type",o)}return t}function ir(e){return Ke(e)?"application/json":null}function lr(e){if(!e?.body)return null;const t=new Headers(e?.headers);if(Ke(e.body)&&!t.has("content-type")){for(const[r,o]of Object.entries(e?.body))o instanceof Date&&(e.body[r]=o.toISOString());return JSON.stringify(e.body)}return e.body}function cr(e,t){var r;if(t?.method)return t.method.toUpperCase();if(e.startsWith("@")){const o=(r=e.split("@")[1])==null?void 0:r.split("/")[0];return tt.includes(o)?o.toUpperCase():t?.body?"POST":"GET"}return t?.body?"POST":"GET"}function ur(e,t){let r;return!e?.signal&&e?.timeout&&(r=setTimeout(()=>t?.abort(),e?.timeout)),{abortTimeout:r,clearTimeout:()=>{r&&clearTimeout(r)}}}var dr=class et extends Error{constructor(t,r){super(r||JSON.stringify(t,null,2)),this.issues=t,Object.setPrototypeOf(this,et.prototype)}};async function fe(e,t){let r=await e["~standard"].validate(t);if(r.issues)throw new dr(r.issues);return r.value}var tt=["get","post","put","patch","delete"],fr=e=>({id:"apply-schema",name:"Apply Schema",version:"1.0.0",async init(t,r){var o,n,a,s;const c=((n=(o=e.plugins)==null?void 0:o.find(i=>{var l;return(l=i.schema)!=null&&l.config?t.startsWith(i.schema.config.baseURL||"")||t.startsWith(i.schema.config.prefix||""):!1}))==null?void 0:n.schema)||e.schema;if(c){let i=t;(a=c.config)!=null&&a.prefix&&i.startsWith(c.config.prefix)&&(i=i.replace(c.config.prefix,""),c.config.baseURL&&(t=t.replace(c.config.prefix,c.config.baseURL))),(s=c.config)!=null&&s.baseURL&&i.startsWith(c.config.baseURL)&&(i=i.replace(c.config.baseURL,""));const l=c.schema[i];if(l){let u=G(N({},r),{method:l.method,output:l.output});return r?.disableValidation||(u=G(N({},u),{body:l.input?await fe(l.input,r?.body):r?.body,params:l.params?await fe(l.params,r?.params):r?.params,query:l.query?await fe(l.query,r?.query):r?.query})),{url:t,options:u}}}return{url:t,options:r}}}),mr=e=>{async function t(r,o){const n=G(N(N({},e),o),{plugins:[...e?.plugins||[],fr(e||{})]});if(e?.catchAllError)try{return await Re(r,n)}catch(a){return{data:null,error:{status:500,statusText:"Fetch Error",message:"Fetch related error. Captured by catchAllError option. See error property for more details.",error:a}}}return await Re(r,n)}return t};function pr(e,t){let{baseURL:r,params:o,query:n}=t||{query:{},params:{},baseURL:""},a=e.startsWith("http")?e.split("/").slice(0,3).join("/"):r||"";if(e.startsWith("@")){const m=e.toString().split("@")[1].split("/")[0];tt.includes(m)&&(e=e.replace(`@${m}/`,"/"))}a.endsWith("/")||(a+="/");let[s,c]=e.replace(a,"").split("?");const i=new URLSearchParams(c);for(const[m,y]of Object.entries(n||{}))y!=null&&i.set(m,String(y));if(o)if(Array.isArray(o)){const m=s.split("/").filter(y=>y.startsWith(":"));for(const[y,g]of m.entries()){const x=o[y];s=s.replace(g,x)}}else for(const[m,y]of Object.entries(o))s=s.replace(`:${m}`,String(y));s=s.split("/").map(encodeURIComponent).join("/"),s.startsWith("/")&&(s=s.slice(1));let l=i.toString();return l=l.length>0?`?${l}`.replace(/\+/g,"%20"):"",a.startsWith("http")?new URL(`${s}${l}`,a):`${a}${s}${l}`}var Re=async(e,t)=>{var r,o,n,a,s,c,i,l;const{hooks:u,url:m,options:y}=await Zt(e,t),g=sr(y),x=new AbortController,P=(r=y.signal)!=null?r:x.signal,z=pr(m,y),C=lr(y),U=await ar(y),M=cr(m,y);let v=G(N({},y),{url:z,headers:U,body:C,method:M,signal:P});for(const A of u.onRequest)if(A){const k=await A(v);k instanceof Object&&(v=k)}("pipeTo"in v&&typeof v.pipeTo=="function"||typeof((o=t?.body)==null?void 0:o.pipe)=="function")&&("duplex"in v||(v.duplex="half"));const{clearTimeout:j}=ur(y,x);let w=await g(v.url,v);j();const F={response:w,request:v};for(const A of u.onResponse)if(A){const k=await A(G(N({},F),{response:(n=t?.hookOptions)!=null&&n.cloneResponse?w.clone():w}));k instanceof Response?w=k:k instanceof Object&&(w=k.response)}if(w.ok){if(!(v.method!=="HEAD"))return{data:"",error:null};const k=or(w),T={data:"",response:w,request:v};if(k==="json"||k==="text"){const S=await w.text(),p=await((a=v.jsonParser)!=null?a:Ge)(S);T.data=p}else T.data=await w[k]();v?.output&&v.output&&!v.disableValidation&&(T.data=await fe(v.output,T.data));for(const S of u.onSuccess)S&&await S(G(N({},T),{response:(s=t?.hookOptions)!=null&&s.cloneResponse?w.clone():w}));return t?.throw?T.data:{data:T.data,error:null}}const h=(c=t?.jsonParser)!=null?c:Ge,E=await w.text(),Z=nr(E),H=Z?await h(E):null,J={response:w,responseText:E,request:v,error:G(N({},H),{status:w.status,statusText:w.statusText})};for(const A of u.onError)A&&await A(G(N({},J),{response:(i=t?.hookOptions)!=null&&i.cloneResponse?w.clone():w}));if(t?.retry){const A=er(t.retry),k=(l=t.retryAttempt)!=null?l:0;if(await A.shouldAttemptRetry(k,w)){for(const S of u.onRetry)S&&await S(F);const T=A.getDelay(k);return await new Promise(S=>setTimeout(S,T)),await Re(e,G(N({},t),{retryAttempt:k+1}))}}if(t?.throw)throw new Yt(w.status,w.statusText,Z?H:E);return{data:null,error:G(N({},H),{status:w.status,statusText:w.statusText})}},gr={},hr={};const me=Object.create(null),ee=e=>gr||globalThis.Deno?.env.toObject()||globalThis.__env__||(e?me:globalThis),W=new Proxy(me,{get(e,t){return ee()[t]??me[t]},has(e,t){const r=ee();return t in r||t in me},set(e,t,r){const o=ee(!0);return o[t]=r,!0},deleteProperty(e,t){if(!t)return!1;const r=ee(!0);return delete r[t],!0},ownKeys(){const e=ee(!0);return Object.keys(e)}});function br(e){return e?e!=="false":!1}const yr=typeof process<"u"&&hr&&"production"||"";yr==="test"||br(W.TEST);const pe=(e,t,r,o)=>{const n=te({data:null,error:null,isPending:!0,isRefetching:!1,refetch:()=>a()}),a=()=>{const c=typeof o=="function"?o({data:n.get().data,error:n.get().error,isPending:n.get().isPending}):o;return r(t,{...c,async onSuccess(i){typeof window<"u"&&n.set({data:i.data,error:null,isPending:!1,isRefetching:!1,refetch:n.value.refetch}),await c?.onSuccess?.(i)},async onError(i){const{request:l}=i,u=typeof l.retry=="number"?l.retry:l.retry?.attempts,m=l.retryAttempt||0;u&&m<u||(n.set({error:i.error,data:null,isPending:!1,isRefetching:!1,refetch:n.value.refetch}),await c?.onError?.(i))},async onRequest(i){const l=n.get();n.set({isPending:l.data===null,data:l.data,error:null,isRefetching:!0,refetch:n.value.refetch}),await c?.onRequest?.(i)}})};e=Array.isArray(e)?e:[e];let s=!1;for(const c of e)c.subscribe(()=>{s?a():Vt(n,()=>(a(),s=!0,()=>{n.off(),c.off()}))});return n};class rt extends Error{constructor(t,r){super(t),this.name="BetterAuthError",this.message=t,this.cause=r,this.stack=""}}function wr(e){return{authorize(t,r="AND"){let o=!1;for(const[n,a]of Object.entries(t)){const s=e[n];if(!s)return{success:!1,error:`You are not allowed to access resource: ${n}`};if(Array.isArray(a))o=a.every(c=>s.includes(c));else if(typeof a=="object"){const c=a;c.connector==="OR"?o=c.actions.some(i=>s.includes(i)):o=c.actions.every(i=>s.includes(i))}else throw new rt("Invalid access control request");if(o&&r==="OR")return{success:o};if(!o&&r==="AND")return{success:!1,error:`unauthorized to access resource "${n}"`}}return o?{success:o}:{success:!1,error:"Not authorized"}},statements:e}}function vr(e){return{newRole(t){return wr(t)},statements:e}}const xr={organization:["update","delete"],member:["create","update","delete"],invitation:["create","cancel"],team:["create","update","delete"]},Pe=vr(xr),ot=Pe.newRole({organization:["update"],invitation:["create","cancel"],member:["create","update","delete"],team:["create","update","delete"]}),nt=Pe.newRole({organization:["update","delete"],member:["create","update","delete"],invitation:["create","cancel"],team:["create","update","delete"]}),st=Pe.newRole({organization:[],member:[],invitation:[],team:[]}),kr={admin:ot,owner:nt,member:st},Sr=e=>{if(!e.permissions&&!e.permission)return!1;const t=e.role.split(","),r=e.options.roles||kr;for(const o of t)if(r[o]?.authorize(e.permissions??e.permission)?.success)return!0;return!1},Rr=e=>{const t=te(!1),r=te(!1),o=te(!1),n={admin:ot,member:st,owner:nt,...e?.roles};return{id:"organization",$InferServerPlugin:{},getActions:a=>({$Infer:{ActiveOrganization:{},Organization:{},Invitation:{},Member:{},Team:{}},organization:{checkRolePermission:s=>Sr({role:s.role,options:{ac:e?.ac,roles:n},permissions:s.permissions??s.permission})}}),getAtoms:a=>{const s=pe(t,"/organization/list",a,{method:"GET"}),c=pe([r],"/organization/get-full-organization",a,()=>({method:"GET"})),i=pe([o],"/organization/get-active-member",a,{method:"GET"});return{$listOrg:t,$activeOrgSignal:r,$activeMemberSignal:o,activeOrganization:c,listOrganizations:s,activeMember:i}},pathMethods:{"/organization/get-full-organization":"GET"},atomListeners:[{matcher(a){return a==="/organization/create"||a==="/organization/delete"||a==="/organization/update"},signal:"$listOrg"},{matcher(a){return a.startsWith("/organization")},signal:"$activeOrgSignal"},{matcher(a){return a.startsWith("/organization/set-active")},signal:"$sessionSignal"},{matcher(a){return a.includes("/organization/update-member-role")},signal:"$activeMemberSignal"}]}},_r=e=>({id:"additional-fields-client",$InferServerPlugin:{}}),Pr=()=>({id:"email-otp",$InferServerPlugin:{}});function Tr(e){try{return new URL(e).pathname!=="/"}catch{throw new rt(`Invalid base URL: ${e}. Please provide a valid base URL.`)}}function ve(e,t="/api/auth"){return Tr(e)?e:(t=t.startsWith("/")?t:`/${t}`,`${e.replace(/\/+$/,"")}${t}`)}function Ar(e,t,r){if(e)return ve(e,t);const o=W.BETTER_AUTH_URL||W.NEXT_PUBLIC_BETTER_AUTH_URL||W.PUBLIC_BETTER_AUTH_URL||W.NUXT_PUBLIC_BETTER_AUTH_URL||W.NUXT_PUBLIC_AUTH_URL||(W.BASE_URL!=="/"?W.BASE_URL:void 0);if(o)return ve(o,t);if(typeof window<"u"&&window.location)return ve(window.location.origin,t)}const Or={proto:/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,constructor:/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,protoShort:/"__proto__"\s*:/,constructorShort:/"constructor"\s*:/},Er=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/,Fe={true:!0,false:!1,null:null,undefined:void 0,nan:Number.NaN,infinity:Number.POSITIVE_INFINITY,"-infinity":Number.NEGATIVE_INFINITY},zr=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,7}))?(?:Z|([+-])(\d{2}):(\d{2}))$/;function Ir(e){return e instanceof Date&&!isNaN(e.getTime())}function Cr(e){const t=zr.exec(e);if(!t)return null;const[,r,o,n,a,s,c,i,l,u,m]=t;let y=new Date(Date.UTC(parseInt(r,10),parseInt(o,10)-1,parseInt(n,10),parseInt(a,10),parseInt(s,10),parseInt(c,10),i?parseInt(i.padEnd(3,"0"),10):0));if(l){const g=(parseInt(u,10)*60+parseInt(m,10))*(l==="+"?-1:1);y.setUTCMinutes(y.getUTCMinutes()+g)}return Ir(y)?y:null}function Mr(e,t={}){const{strict:r=!1,warnings:o=!1,reviver:n,parseDates:a=!0}=t;if(typeof e!="string")return e;const s=e.trim();if(s[0]==='"'&&s.endsWith('"')&&!s.slice(1,-1).includes('"'))return s.slice(1,-1);const c=s.toLowerCase();if(c.length<=9&&c in Fe)return Fe[c];if(!Er.test(s)){if(r)throw new SyntaxError("[better-json] Invalid JSON");return e}if(Object.entries(Or).some(([l,u])=>{const m=u.test(s);return m&&o&&console.warn(`[better-json] Detected potential prototype pollution attempt using ${l} pattern`),m})&&r)throw new Error("[better-json] Potential prototype pollution attempt detected");try{return JSON.parse(s,(u,m)=>{if(u==="__proto__"||u==="constructor"&&m&&typeof m=="object"&&"prototype"in m){o&&console.warn(`[better-json] Dropping "${u}" key to prevent prototype pollution`);return}if(a&&typeof m=="string"){const y=Cr(m);if(y)return y}return n?n(u,m):m})}catch(l){if(r)throw l;return e}}function Lr(e,t={strict:!0}){return Mr(e,t)}const Nr={id:"redirect",name:"Redirect",hooks:{onSuccess(e){if(e.data?.url&&e.data?.redirect&&typeof window<"u"&&window.location&&window.location)try{window.location.href=e.data.url}catch{}}}};function Ur(e){const t=te(!1);return{session:pe(t,"/get-session",e,{method:"GET"}),$sessionSignal:t}}const jr=e=>{const t="credentials"in Request.prototype,r=Ar(e?.baseURL,e?.basePath),o=e?.plugins?.flatMap(g=>g.fetchPlugins).filter(g=>g!==void 0)||[],n=mr({baseURL:r,...t?{credentials:"include"}:{},method:"GET",jsonParser(g){return g?Lr(g,{strict:!1}):null},customFetchImpl:async(g,x)=>{try{return await fetch(g,x)}catch{return Response.error()}},...e?.fetchOptions,plugins:e?.disableDefaultFetchPlugins?[...e?.fetchOptions?.plugins||[],...o]:[Nr,...e?.fetchOptions?.plugins||[],...o]}),{$sessionSignal:a,session:s}=Ur(n),c=e?.plugins||[];let i={},l={$sessionSignal:a,session:s},u={"/sign-out":"POST","/revoke-sessions":"POST","/revoke-other-sessions":"POST","/delete-user":"POST"};const m=[{signal:"$sessionSignal",matcher(g){return g==="/sign-out"||g==="/update-user"||g.startsWith("/sign-in")||g.startsWith("/sign-up")||g==="/delete-user"||g==="/verify-email"}}];for(const g of c)g.getAtoms&&Object.assign(l,g.getAtoms?.(n)),g.pathMethods&&Object.assign(u,g.pathMethods),g.atomListeners&&m.push(...g.atomListeners);const y={notify:g=>{l[g].set(!l[g].get())},listen:(g,x)=>{l[g].subscribe(x)},atoms:l};for(const g of c)g.getActions&&Object.assign(i,g.getActions?.(n,y));return{pluginsActions:i,pluginsAtoms:l,pluginPathMethods:u,atomListeners:m,$fetch:n,$store:y}};function Gr(e,t,r){const o=t[e],{fetchOptions:n,query:a,...s}=r||{};return o||(n?.method?n.method:s&&Object.keys(s).length>0?"POST":"GET")}function $r(e,t,r,o,n){function a(s=[]){return new Proxy(function(){},{get(c,i){const l=[...s,i];let u=e;for(const m of l)if(u&&typeof u=="object"&&m in u)u=u[m];else{u=void 0;break}return typeof u=="function"?u:a(l)},apply:async(c,i,l)=>{const u="/"+s.map(U=>U.replace(/[A-Z]/g,M=>`-${M.toLowerCase()}`)).join("/"),m=l[0]||{},y=l[1]||{},{query:g,fetchOptions:x,...P}=m,z={...y,...x},C=Gr(u,r,m);return await t(u,{...z,body:C==="GET"?void 0:{...P,...z?.body||{}},query:g||z?.query,method:C,async onSuccess(U){await z?.onSuccess?.(U);const M=n?.find(w=>w.matcher(u));if(!M)return;const v=o[M.signal];if(!v)return;const j=v.get();setTimeout(()=>{v.set(!j)},10)}})}})}return a()}function Fr(e,t={}){let r=be.useRef(e.get());const{keys:o,deps:n=[e,o]}=t;let a=be.useCallback(c=>{const i=l=>{r.current!==l&&(r.current=l,c())};return i(e.value),o?.length?Wt(e,o,i):e.listen(i)},n),s=()=>r.current;return be.useSyncExternalStore(a,s,s)}function qr(e){return`use${Br(e)}`}function Br(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Vr(e){const{pluginPathMethods:t,pluginsActions:r,pluginsAtoms:o,$fetch:n,$store:a,atomListeners:s}=jr(e);let c={};for(const[u,m]of Object.entries(o))c[qr(u)]=()=>Fr(m);const i={...r,...c,$fetch:n,$store:a};return $r(i,n,t,o,s)}const de=Vr({plugins:[_r(),Rr(),Pr()]}),Hr=async(e,t,r)=>{const o=t?.callbackURL||window.location.origin;switch(e){case"otp":return await de.emailOtp.sendVerificationOtp({email:t.email,type:"sign-in"}).then(n=>{if(n.data?.success===!1)throw new Error("Failed to send login OTP");return!0}).catch(n=>{throw n});case"signin-otp":return await de.signIn.emailOtp({email:t?.email,otp:t?.otp}).then(n=>{if(!n.data?.user)throw new Error("Failed to signin");return r&&r(o)}).catch(n=>{throw n});case"google":return await de.signIn.social({provider:"google",callbackURL:o}).then(n=>!0).catch(n=>{throw n});case"microsoft":return await de.signIn.social({provider:"microsoft",callbackURL:o}).then(n=>!0).catch(n=>{throw n});default:throw new Error("Invalid signin action")}};export{de as a,at as b,Dr as c,Hr as s};
